<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Derivadas - Calculadora Científica</title>
    
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.18/katex.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.0.0/math.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.18/katex.min.js"></script>
    <link rel="stylesheet" href="css/style.css">

    <style>
        body {
            background-color: #303030;
            color: white;
            font-family: "Microsoft JhengHei UI Light", sans-serif;
            text-align: center;
        }
        main {
            max-width: 800px;
            margin: auto;
            text-align: left;
        }
        a {
            color: white;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        footer {
            margin-top: 20px;
            padding: 10px 0;
            background-color: #303030;
            text-align: center;
        }
        input {
            width: 250px;
            padding: 10px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            outline: none;
            background-color: #ffffff;
            text-align: center;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
        }

        input::placeholder {
            color: gray;
            font-style: italic;
            opacity: 0.7;
        }

        input:focus {
            background-color: #e0e0e0;
        }

        #resultado {
            margin-top: 20px;
            font-size: 20px;
            font-weight: bold;
        }
        .reference-list {
            color: white;
            font-size: 14px;
            margin-top: 30px;
            background-color: #444;
            padding: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>

    <header>
        <h3 style="text-align: left;"><a href="index.html">← Volver</a></h3>
        <h1>Derivación</h1>
    </header>

    <main>
        <hr>

        <section>
            <h2>Definición</h2>
            <h1>$$f'(x) = \lim_{h\to0}\frac{f(x+h)-f(x)}{h},x\ne h$$</h1>
            <p>La derivada de una función \( f(x) \) representa su tasa de cambio instantáneo en relación con la variable independiente \( x \). En términos simples, mide cómo varía la función para pequeños cambios en \( x \).</p>
            <p>La derivada permite obtener información sobre la pendiente de la curva de la función en un punto específico, lo cual es útil en áreas como el análisis de optimización, el estudio del movimiento y la economía.</p>
            <p>A continuación, una clasificación y enumeración de las derivadas.</p>
            <ul>
                <li>Derivada primera</li>
                <ul>
                    <li>Cuando intersecta el eje x, indica un máximo o mínimo relativo de la función.</li>
                    <li>Cuando es positiva, la función es creciente: \(\frac{\Delta y}{\Delta x}\gt0\)</li>
                    <li>Cuando es negativa, la función es decreciente: \(\frac{\Delta y}{\Delta x}\lt0\)</li>
                </ul>
                <li>Derivada segunda</li>
                <ul>
                    <li>Cuando es positiva, la función es cóncava hacia arriba.</li>
                    <li>Cuando es negativa, la función es cóncava hacia abajo.</li>
                    <li>Cuando intersecta el eje x, la función cambia de concavidad (punto de inflexión).</li>
                </ul>
                <li>Cuando no es derivable, hay un punto singular: se debe resolver o clasificar con cálculo de límites.</li>
                <ul>
                    <li>Punto angular: cambio brusco de pendiente.</li>
                    <li>Punto cúspide: pendiente infinita (vertical).</li>
                    <li>Punto de discontinuidad: salto en la función.</li>
                </ul>
            </ul>
        </section>

        <hr>
    </main>
    <ul>
        <input type="number" id="coef" placeholder="Término m" step="any">
        <input type="number" id="exp" placeholder="Término n" step="any">
    </ul>
    
    <div id="resultado"></div>

    <script>
        function calcularDerivada() {
            let coef = parseFloat(document.getElementById('coef').value);
            let exp = parseFloat(document.getElementById('exp').value);

            if (isNaN(coef) || isNaN(exp)) {
                document.getElementById('resultado').innerHTML = "Ingrese valores válidos.";
                return;
            }

            let coefDerivada = coef * exp;
            let expDerivada = exp - 1;

            let derivada = "";

            if (coefDerivada === 0) {
                derivada = "0";
            } else if (expDerivada === 0) {
                derivada = `${coefDerivada}`;
            } else if (expDerivada === 1) {
                derivada = `${coefDerivada}x`;
            } else {
                derivada = `${coefDerivada}x^{${expDerivada}}`;
            }

            let latexExpr = `\\frac{d}{dx}(${coef}x^{${exp}}) = ${derivada}`;

            try {
                katex.render(latexExpr, document.getElementById('resultado'), {
                    throwOnError: false
                });
            } catch {
                document.getElementById('resultado').innerHTML = "⚠️ Error al renderizar.";
            }
        }
        document.getElementById('coef').addEventListener('input', calcularDerivada);
        document.getElementById('exp').addEventListener('input', calcularDerivada);
    </script>

    <footer>
        <p><i>Regresa al <a href="index.html">inicio</a> para explorar más herramientas matemáticas.</i></p>
    </footer>

</body>
</html>
