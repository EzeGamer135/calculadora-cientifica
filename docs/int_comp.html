<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Calculadora para calcular el interés compuesto, utilizando la fórmula general para encontrar el monto final de una inversión o préstamo con interés compuesto.">
    <title>Interés Compuesto - Calculadora Científica</title>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>

    <link rel="stylesheet" href="css/style.css">

    <style>
        body {
            background-color: #303030;
            color: white;
            font-family: "Microsoft JhengHei UI Light", sans-serif;
            text-align: center;
        }
        main {
            max-width: 800px;
            margin: auto;
            text-align: left;
        }
        a {
            color: white;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        footer {
            margin-top: 20px;
            padding: 10px 0;
            background-color: #303030;
            text-align: center;
        }
        section {
            margin-top: 30px;
        }
        h1 {
            font-size: 30px;
        }
        #solution {
            margin-top: 20px;
            padding: 10px;
            background-color: #444;
            border-radius: 5px;
        }
        .reference-list {
            color: white;
            font-size: 14px;
            margin-top: 30px;
            background-color: #444;
            padding: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>

    <header>
        <h3 style="text-align: left;"><a href="index.html">← Volver</a></h3>
        <h1>Interés Compuesto</h1>
    </header>

    <main>
        <hr>

        <section>
            <h2>Fórmula general</h2>
            <h1>
                $$ M = C \left(1 + \frac{i_p}{n} \right)^n $$
            </h1>
            <p>El interés compuesto es el interés que se calcula no solo sobre el capital inicial, sino también sobre los intereses que se han sumado en períodos anteriores. Esto significa que se obtiene "interés sobre el interés", lo que genera un crecimiento exponencial de la inversión o deuda.</p>
        </section>
        <section class="reference-list">
            <h2>Lista de Referencia de Variables</h2>
            <ul>
                <li><strong>M</strong>: Monto final después de aplicar el interés compuesto.</li>
                <li><strong>C</strong>: Capital inicial (Capital inicial de la inversión o préstamo).</li>
                <li><strong>iₚ</strong>: Tasa de interés por período (expresada como decimal, e.g., 5% = 0.05).</li>
                <li><strong>n</strong>: Número de períodos (número total de veces que el interés se aplica).</li>
            </ul>
        </section>
    </main>
    <ul>
        <input type="number" id="capital" placeholder="Capital C" step="any">
        <input type="number" id="tasa" placeholder="Tasa ip (%)" step="any">
        <input type="number" id="veces" placeholder="n (capitalizaciones/año)" step="any">
        <input type="number" id="tiempo" placeholder="Tiempo t (años)" step="any">
    </ul>
    
    <div id="resultado"></div>
    
    <script>
    function calcularInteresCompuesto() {
        let C = parseFloat(document.getElementById('capital').value);
        let ip = parseFloat(document.getElementById('tasa').value);
        let n = parseFloat(document.getElementById('veces').value);
        let t = parseFloat(document.getElementById('tiempo').value);
    
        if (isNaN(C) || isNaN(ip) || isNaN(n) || isNaN(t)) {
            document.getElementById('resultado').innerHTML = "Ingrese valores válidos.";
            return;
        }
    
        // Convertir porcentaje a decimal
        let tasaDecimal = ip / 100;
    
        // Fórmula interés compuesto
        let M = C * Math.pow(1 + (tasaDecimal / n), n * t);
    
        // Redondeo elegante
        let Mredondeado = M.toFixed(2);
    
        let latexExpr = `
        M = ${C} \\left(1 + \\frac{${tasaDecimal}}{${n}} \\right)^{${n} \\cdot ${t}} = ${Mredondeado}
        `;
    
        console.log("LaTeX generado:", latexExpr);
    
        try {
            katex.render(latexExpr, document.getElementById('resultado'));
        } catch (error) {
            console.error("Error en KaTeX:", error);
            document.getElementById('resultado').innerHTML = "⚠️ Error al renderizar.";
        }
    }
    
    setInterval(calcularInteresCompuesto, 30);
    </script>

    <footer>
        <p><i>Explora más herramientas matemáticas en el <a href="index.html">inicio</a>.</i></p>
    </footer>
</body>
</html>
