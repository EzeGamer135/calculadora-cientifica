<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Explicaci√≥n detallada sobre la derivaci√≥n y su f√≥rmula general, con aplicaciones en c√°lculo diferencial.">
    <title>Derivaci√≥n - Calculadora Cient√≠fica</title>
    
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.18/katex.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.0.0/math.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.18/katex.min.js"></script>
    <link rel="stylesheet" href="css/style.css">

    <style>
        body {
            background-color: #303030;
            color: white;
            font-family: "Microsoft JhengHei UI Light", sans-serif;
            text-align: center;
        }
        main {
            max-width: 800px;
            margin: auto;
            text-align: left;
        }
        a {
            color: white;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        footer {
            margin-top: 20px;
            padding: 10px 0;
            background-color: #303030;
            text-align: center;
        }
        input {
            width: 250px;
            padding: 10px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            outline: none;
            background-color: #ffffff;
            text-align: center;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
        }

        input::placeholder {
            color: gray;
            font-style: italic;
            opacity: 0.7;
        }

        input:focus {
            background-color: #e0e0e0;
        }

        #resultado {
            margin-top: 20px;
            font-size: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <header>
        <h3 style="text-align: left;"><a href="index.html">‚Üê Volver</a></h3>
        <h1>Derivaci√≥n</h1>
    </header>

    <main>
        <hr>

        <section>
            <h2>F√≥rmula General</h2>
            <h1>$$y' = (m \times n) x^{n-1}$$</h1>
            <p>La derivada de una funci√≥n \( mx^n \) representa su tasa de cambio instant√°neo en relaci√≥n con la variable independiente \( x \). En t√©rminos simples, mide c√≥mo var√≠a la funci√≥n para peque√±os cambios en \( x \).</p>
            <p>La derivada permite obtener informaci√≥n sobre la pendiente de la curva de la funci√≥n en un punto espec√≠fico, lo cual es √∫til en √°reas como el an√°lisis de optimizaci√≥n, el estudio del movimiento y la econom√≠a.</p>
        </section>

        <hr>
    </main>
    <ul>
        <label for="coef"></label>
        <input type="number" id="coef" placeholder="T√©rmino m" step="any">
        
        <label for="exp"></label>
        <input type="number" id="exp" placeholder="T√©rmino n" step="any">
    </ul>
    
    <div id="resultado"></div>

    <script>
    function calcularDerivada() {
        let coef = parseFloat(document.getElementById('coef').value);
        let exp = parseFloat(document.getElementById('exp').value);

        if (isNaN(coef) || isNaN(exp)) {
            document.getElementById('resultado').innerHTML = "Ingrese valores v√°lidos.";
            return;
        }

        // üî• C√°lculo de la derivada
        let coefDerivada = coef * exp;  // coef * exp
        let expDerivada = exp - 1;      // exp - 1

        // üìù Crear la expresi√≥n derivada correctamente
        let derivada;
        if (coefDerivada === 0) {
            derivada = "0"; // Si el coeficiente se hace 0, la derivada es 0
        } else if (expDerivada === 0) {
            derivada = `${coefDerivada}`; // Solo el coeficiente
        } else if (expDerivada === 1) {
            derivada = `${coefDerivada} x`; // No muestra exponente 1
        } else if (expDerivada < 0) {
            derivada = `\\frac{1}{${coefDerivada} x^{${expDerivada}}}`; // Conservamos los signos originales
        } else {
            derivada = `${coefDerivada} x^{${expDerivada}}`; // Caso normal
        }

        // üî• Formatear la expresi√≥n en LaTeX
        let latexExpr = `\\frac{d}{dx} \\left( ${coef} x^{${exp}} \\right) = ${derivada}`;

        // üîç Ver qu√© LaTeX estamos generando
        console.log("Expresi√≥n LaTeX generada:", latexExpr);

        // üñã Renderizar con KaTeX
        try {
            katex.render(latexExpr, document.getElementById('resultado'));
        } catch (error) {
            console.error("Error en KaTeX:", error);
            document.getElementById('resultado').innerHTML = "‚ö†Ô∏è Error al renderizar.";
        }
    }
    setInterval(calcularDerivada, 30);
    </script>

    <footer>
        <p><i>Regresa al <a href="index.html">inicio</a> para explorar m√°s herramientas matem√°ticas.</i></p>
    </footer>

</body>
</html>
